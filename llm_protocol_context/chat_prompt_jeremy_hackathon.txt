You are a Protocol Structuring Expert. Transform unstructured protocol text into YAML that conforms to the NMDC LinkML model.
Output constraints
Output YAML only. Do not include any commentary, explanations, headers, or code fences.
Use two-space indentation. Ensure syntactically valid YAML.
Use the top-level keys exactly as: Study, steps, processedsamples.
Schema/classes in scope
Use only NMDC LinkML classes and fields exemplified here: SubSamplingProcess, Extraction, DissolvingProcess, ChemicalConversionProcess, ProcessedSample, PortionOfSubstance, QuantityValue, Protocol.
Field names must match the example exactly (e.g., has_input, has_output, substances_used, volume.has_raw_value, etc.).
Structure
Provide a Study identifier (can be a placeholder).
steps: ordered list of step objects. Each step uses one of the listed process classes.
processedsamples: list of ProcessedSample objects produced or consumed by steps.
Include protocol_link where described in the input.
Placeholders and IDs
Keep placeholders as provided (e.g., <Biosample>, <ProcessedSample1>).
Mint ids as placeholders or commented stubs (e.g., id: # nmdc:extrp-{shoulder}-{blade}).
Do not invent names for unknown entities. Use placeholders or omit fields if unknown.
Extraction and mapping rules
Extract only explicit values stated in the input. Do not infer or calculate values from ratios, context, or common practice.
If a value is presented as a range (e.g., 0.9–2.0 mm), put the range as has_raw_value and omit has_numeric_value unless a single numeric value is explicitly provided.
If a mixture ratio is provided without absolute volumes, list the substances without volumes.
Only include fields present in the input. Do not fabricate missing data.
Group operations at the granularity used in the example:
SubSamplingProcess for initial subsampling/portioning.
Extraction for multi-omic or solvent-based extractions (e.g., MPLEx).
DissolvingProcess for dissolving fractions prior to analysis.
ChemicalConversionProcess for enzymatic/chemical conversions (e.g., trypsin/FASP digestion).
You may summarize repeated washes/spins within the same step unless explicit distinct outputs are produced.
Normalization rules
Normalize common synonyms and symbols in known_as and units:
MeOH → methanol
H2O, nanopure water → water
CHCl3, chloroform → chloroform
ABC → ammonium bicarbonate
TCA → trichloroacetic acid
SDS-Tris buffer → SDS-Tris buffer (retain as given, but expand components if separately listed)
Units canonicalization (use exactly these symbols):
Volume: mL, µL, L
Mass: g, mg, µg
Temperature: C
Time: s, min, h
Centrifugal force: x g (store in has_raw_value; do not convert)
QuantityValue population:
If a single explicit numeric value and unit are given, populate has_raw_value (e.g., "5 mL"), has_unit, and has_numeric_value.
If only textual value or range is given, populate has_raw_value and omit has_numeric_value.
Preserve signs and spacing in has_raw_value as written (e.g., "-20 °C" → has_raw_value: -20 C).
Controlled vocabularies
extraction_targets: metabolite, protein, lipid
substance_role (examples): solvent, ms_proteolytic_enzyme
chemical_conversion_category (examples): protease_cleavage
ProcessedSample.sampled_portion (examples): methanol_layer, interlayer, chloroform_layer
Vendors/instrument settings
Do not include vendor, brand, model, or catalog numbers unless they are essential to the protocol_link or required to understand the step. If included, put them in description.
Record instrument settings only if explicitly provided and essential; otherwise omit.
Provenance
If a protocol citation or URL/DOI is explicitly provided, include protocol_link with name, url, and type: nmdc:Protocol.
If processing_institution is explicitly provided, include it; otherwise omit.
Validation
Ensure all YAML keys and structures match the example patterns.
Do not add keys not shown in the examples unless they are part of the NMDC model and explicitly supported by the input.
Example Input:
MPLex direct SDS buffer extraction
Soil was weighed into 50 mL screw-cap self-standing tubes (Next Advance, Averill Park, NY) along with 0.9-2.0 mm stainless steel beads, 0.1 mm zirconia beads and 0.1 mm garnet beads and 8 mL of 60% MeOH in nanopure water. The samples were all bead beat in a 50mL Bullet Blender (Next Advance, Averill Park, NY) at speed 12 for 15 minutes at 4°C and transferred into chemical compatible polypropylene 50 mL tubes (Olympus Plastics, Waltham, MA). The dirty tube was rinsed with 2 mL of 60% MeOH and combined with the sample along with 12 mL of ice-cold chloroform and probe sonicated at 60% amplitude for 30 seconds on ice, allowed to cool on ice and sonicated again. Samples were incubated for 5 min at-80°C, vortexed for 1 min and centrifuged at 4,500x g for 10 min at 4°C. The upper aqueous phase was collected into a large glass vial, being careful not to touch the protein interphase. The interphase was collected using a large flat spatula into a separate tube and 5mL of ice cold 100% methanol was added to the protein, vortexed and centrifuged at 4,500x g for 5 mins at 4°C to pellet the protein. The supernatant was decanted off and the protein allowed to dry upside down on a Kim-wipe. Meanwhile, the bottom organic phase was collected into a separate large glass vial and 5mL of nanopure water was added to the large soil particulates along with 25mL of cold (-20 °C) chloroform:methanol (2:1, v:v) solution and probe sonicated for 30 seconds as described previously. The sample was allowed to cool at -20°C and centrifuged at 4,500x g for 10 min at 4°C. The upper aqueous phase metabolites and bottom organic phase lipids were collected together with the supernatant metabolites and lipids then dried down completely in a vacuum concentrator (Labconco, Kansas City, MO) and stored at -20 °C for analysis. The dirty protein interphase had 20 mL of an SDS-Tris buffer (4% SDS, 100mM DTT in 100 mM Tris-HCl, pH 8.0) added and probe sonicated at 20% amplitude to bring into solution and incubated at 95°C for 5 minutes to solubilize the protein and allowed to cool for 20 mins at 4°C. The samples were centrifuged at 4,500x g for 10 mins and the supernatants were decanted into chemical compatible polypropylene 50 mL tubes. The proteins were precipitated by adding up to 20% trichloroacetic acid (TCA), vortexed and placed in a -20°C freezer for 1.5 hrs. The samples were thawed and centrifuged at 4,500x g at 4°C for 10 mins to collect the precipitated protein. The supernatant was gently decanted into waste and 2 mL of ice cold acetone was added to the pellet and re-suspend by vortexing. The sample was placed at -80°C for ~5 mins to ensure the samples were cold and centrifuged for 10 mins at 4,500x g at 4°C. The acetone was removed by gently pouring into waste. The pellets were allowed to dry inverted on a Kim Wipe for ~15 mins. The protein interphases from the supernatants and the protein interphases from the particulates were combined using 100-200ul of SDS-Tris buffer and FASP digested.
FASP digestion
Up to 100µl of SDS-Tris buffer (4% SDS, 100mM DTT in 100 mM Tris-HCl, pH 8.0) was added to each pellet and gently sonicated into solution. The protein solutions were transferred into 1.5 mL microcentrifuge tubes and incubated at 95°C for 5 mins and allowed to cool at 4°C for 10 mins. The samples were centrifuged at 15,000x g for 10 minutes to pellet debris and transferred into 30kDa molecular weight cut off (MWCO) 500 µl spin filter provided in Expedeon FASP Kits (Expedeon, San Diego, CA), along with 400µl of 8M urea solution. The spin filters were centrifuged at 14,000x g for ~30 mins until the samples hit the dead volume. The waste was removed from the collection tubes and 400 µl of 8M urea solution was added to each sample and centrifuge as described previously and repeated 1 more time for a total of 3 urea spins. 400µl of 25 mM ammonium bicarbonate, pH 8 (ABC) was added and centrifuged as described and repeated for a total of 2 ABC washes. The spin columns were transferred into fresh labeled collection tubes (gently wiping any excess urea off the spin filter). 75 µl of ABC was added to the spin filter along with 4 µl of 1 µg/µl trypsin (affymetrix, Santa Clara, CA) and vortexed. The samples were incubated at 37°C for 3 hrs in a thermomixer with a thermotop to reduce condensation (Eppendorf, Hamburg, Germany). After digestion, 40ul of ABC was added to the sample and centrifuged at 14,000x g for 20 mins. Another 40ul of ABC was added to the top of the spin filter, vortexed and centrifuged again for 10 mins. The spin filter was discarded and the collected peptides were dried in a speed vac to a volume of ~30 µl. A final bicinchoninic acid (BCA) assay (Thermo Scientific, Waltham, MA) was performed to determine the peptide concentration and vialed for MS analysis.
Wisniewski JR, Zougman A, Nagaraj N, Mann M. Universal sample preparation method for proteome analysis. Nat Methods. 2009;6(5):359-62.
Example Output:
Study: nmdc:sty-11-aygzgv51
steps:
Step 1:
SubSamplingProcess:
id: # nmdc:subspr-{shoulder}-{blade}
type: nmdc:SubSamplingProcess
name: Subsampling1
description: A portion of soil taken from <Biosample> soil sample for extraction
has_input:
Biosample
has_output:
ProcessedSample1
processing_institution: EMSL
mass:
type: nmdc:QuantityValue
has_raw_value: 30 g
has_unit: g
has_numeric_value: 30
protocol_link:
name: Graham et al 2018. Multi 'omics comparison reveals metabolome biochemistry, not microbiome composition or gene expression, corresponds to elevated biogeochemical function in the hyporheic zone
url: https://doi.org/10.1016/j.scitotenv.2018.05.256
type: nmdc:Protocol
Step 2:
Extraction:
id: # nmdc:extrp-{shoulder}-{blade}
type: nmdc:Extraction
name: MPLEx
description: MPLEx extraction of <ProcessedSample1> to obtain metabolites, proteins, and lipids
has_input:
ProcessedSample1
has_output:
ProcessedSample2 # metabolites
ProcessedSample3 # proteins
ProcessedSample4 # lipids
processing_institution: EMSL
extraction_targets:
metabolite
protein
lipid
input_mass:
type: nmdc:QuantityValue
has_raw_value: 30 g
has_unit: g
has_numeric_value: 30
substances_used:
type: nmdc:PortionOfSubstance
known_as: chloroform
substance_role: solvent
volume:
type: nmdc:QuantityValue
has_raw_value: 16.67 mL
has_numeric_value: 16.67
has_unit: mL
type: nmdc:PortionOfSubstance
known_as: methanol
substance_role: solvent
volume:
type: nmdc:QuantityValue
has_raw_value: 8.33 mL
has_numeric_value: 8.33
has_unit: mL
type: nmdc:PortionOfSubstance
known_as: water
substance_role: solvent
volume:
type: nmdc:QuantityValue
has_raw_value: 5 mL
has_numeric_value: 5
has_unit: mL
protocol_link:
name: Nicora et al 2018. The MPLEx Protocol for Multi-omic Analyses of Soil Samples
url: https://dx.doi.org/10.3791/57343-v
type: nmdc:Protocol
Step 3:
DissolvingProcess:
id:
type: nmdc:DissolvingProcess
description: Dissolving metabolites from <ProcessedSample2> for analysis
name: Dissolving Metabolites
processing_institution: EMSL
has_input:
ProcessedSample2
has_output:
ProcessedSample5
substances_used:
type: nmdc:PortionOfSubstance
known_as: chloroform
substance_role: solvent
type: nmdc:PortionOfSubstance
known_as: methanol
substance_role: solvent
Step 4:
ChemicalConversionProcess:
id: # nmdc:chcpr-{shoulder}-{blade}
type: nmdc:ChemicalConversionProcess
name: Protein_digestion_trypsin
description: Trypsin digestion of proteins from <ProcessedSample3> for analysis
has_input:
ProcessedSample3 # from mplex
has_output:
ProcessedSample6 # DataGeneration.has_input
processing_institution: EMSL
chemical_conversion_category: protease_cleavage
substances_used:
type: nmdc:PortionOfSubstance
known_as: trypsin
substance_role: ms_proteolytic_enzyme
volume:
type: nmdc:QuantityValue
has_raw_value: 0.004 mL
has_unit: mL
has_numeric_value: 0.004
temperature:
type: nmdc:QuantityValue
has_raw_value: 37 C
has_unit: C
has_numeric_value: 37
duration:
type: nmdc:QuantityValue
has_raw_value: 3 h
has_unit: h
has_numeric_value: 3
protocol_link:
name: Graham et al 2018. Multi 'omics comparison reveals metabolome biochemistry, not microbiome composition or gene expression, corresponds to elevated biogeochemical function in the hyporheic zone
url: https://doi.org/10.1016/j.scitotenv.2018.05.256
type: nmdc:Protocol
Step 5:
DissolvingProcess:
id:
type: nmdc:DissolvingProcess
description: Dissolving lipids from <ProcessedSample4> for analysis
name: Dissolving Lipids
processing_institution: EMSL
has_input:
ProcessedSample4
has_output:
ProcessedSample7
substances_used:
type: nmdc:PortionOfSubstance
known_as: chloroform
substance_role: solvent
type: nmdc:PortionOfSubstance
known_as: methanol
substance_role: solvent
processedsamples:
ProcessedSample1:
ProcessedSample:
id: #nmdc:
name: <Biosample>_MPLEx-subsample
description: The output from subsampling <Biosample> for extraction
ProcessedSample2:
ProcessedSample:
id: #nmdc:
name: <Biosample>_metabolites
description: The metabolites from extracting <Biosample> via MPLEx
sampled_portion:
methanol_layer
ProcessedSample3:
ProcessedSample:
id: #nmdc:
name: <Biosample>_proteins
description: The proteins from extracting <Biosample> via MPLEx
sampled_portion:
interlayer
ProcessedSample4:
ProcessedSample:
id: #nmdc:
name: <Biosample>_lipids
description: The lipids from extracting <Biosample> via MPLEx
sampled_portion:
chloroform_layer
ProcessedSample5:
ProcessedSample:
id: #nmdc:
type: nmdc:ProcessedSample
name: <Biosample>_metabolites
description: Extracted and dissolved metabolites from <Biosample>
sampled_portion:
methanol_layer
ProcessedSample6:
ProcessedSample:
id: #nmdc:
type: nmdc:ProcessedSample
name: <Biosample>_proteins
description: Extracted and digested proteins from <Biosample>
sampled_portion:
interlayer
ProcessedSample7:
ProcessedSample:
id: #nmdc:
type: nmdc:ProcessedSample
name: <Biosample>_lipids
description: Extracted and dissolved lipids from <Biosample>
sampled_portion:
chloroform_layer
Now, process this unstructured input and report a single LinkML Yaml file:
Sequential Extraction SOP
For soils with >10%C:
User will have weighed 300mg* of soil into a 2mL glass Microsolv vial (Microsolv, Cat# 9502S-WCV) with a non-slit cap (Microsolv, Cat# 9502S-10C-B-M).
1mL of MilliQ H2O is pipetted into each sample and shaken on a thermomixer (Eppendorf, Cat# 2231000667) at RT and 2000 RPM for 2 hours.
Centrifuge samples at 4500 RPM for 5 minutes on a plate spinner that accommodates 54 sample autosampler tray.
Pull off supernatant using 200uL micropipette while avoiding disturbing and pulling up sediment and place in a pre-labeled 2mL Sorensen tube (part no.) [Make sure that most of the supernatant is taken off or else this will affect the rest of the extraction]. Supernatants are then placed in a sample box and stored at -80oC.
1mL of Optima LC/MS-grade methanol is pipetted into each sample and shaken on a thermomixer at RT and 2000 RPM for 2 hours.
Centrifuge samples (Repeat Step 3)
Pull of supernatant using 200uL micropipette (Step 4) but instead place supernatant into a pre-labeled 2mL Microsolv vial and capped with a non-slit cap. Supernatants are then placed in a sample box and stored at -80oC.
1mL of ethanol-stabilized chloroform is pipetted into the sample using a glass syringe or a pre-marked Pasteur pipette in a fume hood (IF PLASTIC MICROPIPETTE TIPS ARE USED, SAMPLES WILL BE CONTAMINATED WITH PEG AND UNUSABLE). Samples are then shaken on a thermomixer at RT and 2000 RPM for 2 hours.
Centrifuge samples (Repeat Step 3)
In a fume hood, pull off supernatant using 5-3/4” glass Pasteur pipette and transfer supernatant to 2mL glass Microsolv vial and cap with non-slip cap. Supernatants are then placed in a sample box and stored at -80oC.
For Soils and Sediment with <10%C:
User will have weighed 2g* of soil into a 15mL Olympus tube (Genesee Sci., Cat# 28-103).
5mL of MilliQ H2O is pipetted into each sample and shaken on a vortex mixer (Thermo Scientific, Cat# 88880017TS) at RT and 1000 RPM for 2 hours.
Centrifuge samples at 6000 RPM for 5 minutes in an angled rotor that accommodates 15mL falcon tubes.
Pull off supernatant using 1mL micropipette while avoiding disturbing and pulling up sediment and place in a pre-labeled 15mL Olympus tube [Make sure that most of the supernatant is taken off or else this will affect the rest of the extraction]. Supernatants are then stored at -80oC with tubes resting on their sides to prevent cracking.
Steps 2-4 are then repeated with the supernatant going into the same sample tube as before.
5mL of Optima LC/MS-grade Methanol is pipetted into each sample and shaken on a vortex mixer at RT and 1000 RPM for 2 hours.
Centrifuge samples (Repeat Step 3).
Pull of supernatant using 1mL micropipette the same as the H2O fraction. Supernatants are then stored at -80oC.
5mL of ethanol-stabilized chloroform is pipetted into the sample using a glass serological pipette in a fume hood (IF PLASTIC MICROPIPETTE TIPS ARE USED, SAMPLES WILL BE CONTAMINATED WITH PEG AND UNUSABLE). Samples are then shaken on a vortex mixer at RT and 1000 RPM for 2 hours.
Centrifuge samples (Repeat Step 3).
In a fume hood, pull off supernatant using 9” glass Pasteur pipette and transfer supernatant to 15mL Olympus tube. Supernatants are then stored at -80oC.
*Amount of soil can vary by how much sample the user has available as well as the type of soil e.g. peat will be less dense/fluffier and have more C than a permafrost sample and thus 300mg of soil would be more than necessary and would most likely not fit into a 2mL Microsolv vial.
Solid Phase Extraction (SPE) of DOM SOP
Bond Elut PPL SPE:
Place labeled SPE cartridge (Agilent, Cat# 12105004) onto SPE vacuum manifold (Sigma-Aldrich (Supelco), Cat# 57250-U) with 15mL falcon tube underneath to collect waste.
Prepare 5mL* of H2O sample in a 15mL Olympus tube (Genesee Sci., Cat# 28-103) by acidifying the sample to at least pH2 with 2µL of 37% HCl.
Depending on sample volume, sample may need to be diluted to 5mL with MilliQ H2O.
Depending on sample alkalinity and natural buffers within the sample, more 37% HCl may be needed to acidify the sample to pH2.
Test acidity with 0-6pH strip by pipetting 20µL of the sample on the pH strip.
Activate each SPE cartridge with 3mL of Optima LC/MS-grade methanol and let excess drain off into waste.
Equilibrate cartridge with 5mL 10mM HCl.
Load the acidified sample onto the cartridge and allow the sample to flow through the column#.
Wash the cartridge 17X+, # with 3mL of 10mM HCl, emptying waste tubes into a larger waste container once they are 80% full.
Dry each cartridge with N2(g) until packing material returns to original color (about 5 minutes)
If top filter has moved during drying, tamp down gently with pipette tip.
After cartridge is dry, expel any remaining HCl rinse in cartridge port and solvent guide needle by gently pushing N2(g) through the port.
Replace cartridge onto original port and elute with 1.5mL of Optima LC/MS-grade MeOH into a 2mL Microsolv vial (Microsolv, Cat# 9502S-WCV) and cap with a non-slit cap (Microsolv, Cat# 9502S-10C-B-M) until ready to run. Sample is then placed in a sample box and stored at -80oC
*More than 5mL of sample can be used, especially if total volume of sample received is greater than 5mL and/or is of low concentration
#If samples are having a hard time flowing through with gravity and capillary action, gently pull vacuum to pull the sample or solvent through the column
Samples can be rinsed more than 17X depending on salt concentration